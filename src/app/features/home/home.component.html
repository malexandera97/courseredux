<ActionBar title="Inicio" class="action-bar">
    <ActionItem 
        text="ðŸ—‘ï¸ Limpiar Todo" 
        (tap)="onClearAll()" 
        ios.position="right"
        android.position="actionBar">
    </ActionItem>
</ActionBar>

<ScrollView class="page">
    <StackLayout class="home-container">
        <!-- Bienvenida con nombre de usuario persistente -->
        <StackLayout class="welcome-section">
            <Label [text]="'ðŸ‘‹ Hola, ' + username + '!'" class="welcome-title"></Label>
            <Label text="Bienvenido a CourseRedux" class="welcome-subtitle"></Label>
        </StackLayout>

        <StackLayout class="divider"></StackLayout>

        <!-- Requisito: Listado reactivo que se actualiza con Redux Store -->
        <StackLayout class="read-now-section">
            <FlexboxLayout flexDirection="row" justifyContent="space-between" alignItems="center">
                <Label text="ðŸ“– Leyendo Ahora" class="section-title"></Label>
                <Label [text]="(readNowCount$ | async) + ' items'" class="item-count"></Label>
            </FlexboxLayout>
            <Label text="Items agregados desde Favoritos con Redux" class="section-description"></Label>

            <!-- Mensaje si no hay items -->
            <StackLayout *ngIf="(readNowCount$ | async) === 0" class="empty-state">
                <Label text="ðŸ“š" class="empty-icon"></Label>
                <Label text="No hay items en Leer Ahora" class="empty-message"></Label>
                <Label text="Ve a Favoritos y presiona 'Leer Ahora'" class="empty-hint"></Label>
            </StackLayout>

            <!-- Listado reactivo de items - se actualiza automÃ¡ticamente -->
            <StackLayout *ngIf="(readNowCount$ | async) > 0">
                <StackLayout 
                    *ngFor="let item of readNowItems$ | async" 
                    class="read-now-item">
                    
                    <FlexboxLayout flexDirection="column">
                        <Label [text]="item.name" class="item-name"></Label>
                        <Label [text]="item.description" class="item-description" textWrap="true"></Label>
                        
                        <FlexboxLayout flexDirection="row" justifyContent="space-between" alignItems="center" class="item-meta">
                            <FlexboxLayout flexDirection="row">
                                <Label [text]="'$' + item.price" class="item-price"></Label>
                                <Label [text]="item.category" class="item-category"></Label>
                            </FlexboxLayout>
                            
                            <Button 
                                text="âŒ" 
                                (tap)="onRemoveItem(item)" 
                                class="btn-remove">
                            </Button>
                        </FlexboxLayout>
                    </FlexboxLayout>
                </StackLayout>
            </StackLayout>
        </StackLayout>

        <StackLayout class="divider"></StackLayout>

        <!-- InformaciÃ³n adicional -->
        <StackLayout class="info-section">
            <Label text="â„¹ï¸ Acerca de esta app" class="section-title"></Label>
            <Label text="Esta aplicaciÃ³n demuestra:" class="info-text"></Label>
            <Label text="â€¢ IntegraciÃ³n con API Express" class="info-item"></Label>
            <Label text="â€¢ GestiÃ³n de estado con Redux (NgRx)" class="info-item"></Label>
            <Label text="â€¢ Persistencia con ApplicationSettings" class="info-item"></Label>
            <Label text="â€¢ Filtrado y bÃºsqueda de productos" class="info-item"></Label>
            <Label text="â€¢ Sistema de favoritos" class="info-item"></Label>
        </StackLayout>
    </StackLayout>
</ScrollView>
