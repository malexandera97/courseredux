<ActionBar title="Google Maps" class="action-bar"></ActionBar>

<GridLayout rows="*, auto" class="page">
    <!-- Requisito: Plugin de Google Maps configurado -->
    <MapView 
        #mapView
        row="0"
        [latitude]="latitude" 
        [longitude]="longitude" 
        [zoom]="zoom"
        [bearing]="0"
        [tilt]="0"
        (mapReady)="onMapReady($event)"
        (markerSelect)="onMarkerSelect($event)"
        (coordinateTapped)="onCoordinateTapped($event)"
        class="map-view">
    </MapView>

    <!-- Panel de controles -->
    <StackLayout row="1" class="controls-panel">
        <Label [text]="'ðŸ“ UbicaciÃ³n: ' + latitude.toFixed(4) + ', ' + longitude.toFixed(4)" 
               class="location-label">
        </Label>
        
        <FlexboxLayout flexDirection="row" flexWrap="wrap" justifyContent="space-around" class="button-group">
            <Button 
                text="ðŸ“ Mi UbicaciÃ³n" 
                (tap)="onAddMarkerAtCurrentLocation()" 
                class="btn btn-primary map-button">
            </Button>
            <Button 
                text="âž• Agregar Marker" 
                (tap)="onAddCustomMarker()" 
                class="btn btn-success map-button">
            </Button>
            <Button 
                text="ðŸŽ¯ Centrar" 
                (tap)="onCenterMap()" 
                class="btn btn-info map-button">
            </Button>
            <Button 
                text="ðŸ—‘ï¸ Limpiar" 
                (tap)="onClearMarkers()" 
                class="btn btn-danger map-button">
            </Button>
        </FlexboxLayout>
        
        <Label [text]="'Total markers: ' + markers.length" 
               class="markers-count">
        </Label>
    </StackLayout>
</GridLayout>
